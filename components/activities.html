<!-- ã„ã¤ã‚‚ã®æ´»å‹•ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<section id="regular" class="section scroll-adjust bg-white">
  <div class="container">
    <h2 class="section-title text-pink-600">ğŸŒ€ ã„ã¤ã‚‚ã®æ´»å‹•</h2>
    <p class="section-subtitle">
      ã“ã¿ã‹ã‚‹ã§æ¯é€±ãƒ»æ¯æœˆãŠã“ãªã£ã¦ã„ã‚‹ã€ç¶šã‘ã¦æ¥½ã—ã„å®šç•ªãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŸã¡ã€‚
    </p>
    
    <div id="activities-grid" class="grid grid-1 sm:grid-2 lg:grid-3 gap-6">
      <!-- æ´»å‹•ã‚«ãƒ¼ãƒ‰ã¯JavaScriptã§å‹•çš„ç”Ÿæˆ -->
      <div class="text-center py-8">
        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-pink-500 mx-auto mb-4"></div>
        <p class="text-gray-500">æ´»å‹•æƒ…å ±ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
      </div>
    </div>
  </div>
</section>

<script>
// æ´»å‹•ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã¨è¡¨ç¤º
async function loadActivities() {
  try {
    const response = await fetch('./data/activities.json');
    const data = await response.json();
    
    const activitiesGrid = document.getElementById('activities-grid');
    activitiesGrid.innerHTML = '';
    
    data.activities.forEach(activity => {
      const activityCard = document.createElement('div');
      activityCard.className = 'activity-card';
      
      const metaHtml = activity.meta.map(item => `<li>${item}</li>`).join('');
      const linkHtml = activity.link 
        ? `<a href="${activity.link.url}" target="_blank" class="btn btn-primary btn-sm mt-3">
             ${activity.link.text}
           </a>`
        : '';
      
      activityCard.innerHTML = `
        <div>
          <div class="activity-image">
            <img src="${activity.image}" alt="${activity.title}" loading="lazy">
          </div>
          <h3 class="activity-title text-${activity.titleColor}">${activity.title}</h3>
          <p class="activity-description">${activity.description}</p>
          <ul class="activity-meta">
            ${metaHtml}
          </ul>
        </div>
        ${linkHtml}
      `;
      
      activitiesGrid.appendChild(activityCard);
    });
    
  } catch (error) {
    console.error('Error loading activities:', error);
    document.getElementById('activities-grid').innerHTML = `
      <div class="text-center py-8">
        <p class="text-red-500">æ´»å‹•æƒ…å ±ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ</p>
      </div>
    `;
  }
}

// ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«æ´»å‹•ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿
document.addEventListener('DOMContentLoaded', loadActivities);
</script>